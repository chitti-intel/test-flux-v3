{"kind":"ResourceBundleState","apiVersion":"k8splugin.io/v1alpha1","metadata":{"name":"2559393560283377403-kube-prometheus-stack","namespace":"default","uid":"ab7a37aa-cc40-4451-857d-b459c325b0ae","resourceVersion":"10287278","generation":1,"creationTimestamp":"2022-10-11T23:07:01Z","labels":{"emco/deployment-id":"2559393560283377403-kube-prometheus-stack","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default"},"managedFields":[{"manager":"kustomize-controller","operation":"Apply","apiVersion":"k8splugin.io/v1alpha1","time":"2022-10-11T23:07:01Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{"f:emco/deployment-id":{},"f:kustomize.toolkit.fluxcd.io/name":{},"f:kustomize.toolkit.fluxcd.io/namespace":{}}},"f:spec":{"f:selector":{"f:matchLabels":{"f:emco/deployment-id":{}}}}}},{"manager":"monitor","operation":"Update","apiVersion":"k8splugin.io/v1alpha1","time":"2022-10-11T23:07:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:configMapStatuses":{},"f:daemonSetStatuses":{},"f:deploymentStatuses":{},"f:jobStatuses":{},"f:podStatuses":{},"f:ready":{},"f:resourceCount":{},"f:resourceStatuses":{},"f:serviceStatuses":{},"f:statefulSetStatuses":{}}},"subresource":"status"}]},"spec":{"selector":{"matchLabels":{"emco/deployment-id":"2559393560283377403-kube-prometheus-stack"}}},"status":{"ready":false,"resourceCount":0,"podStatuses":[{"kind":"Pod","apiVersion":"v1","metadata":{"name":"r1-kube-state-metrics-5f44467b98-4l6c2","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/component":"metrics","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"kube-state-metrics","app.kubernetes.io/part-of":"kube-state-metrics","app.kubernetes.io/version":"2.2.4","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","helm.sh/chart":"kube-state-metrics-4.1.1","pod-template-hash":"5f44467b98"}},"spec":{"volumes":[{"name":"kube-api-access-x2k2g","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"kube-state-metrics","image":"k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.2.4","args":["--port=8080","--resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments","--telemetry-port=8081"],"ports":[{"name":"http","containerPort":8080,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-x2k2g","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8080,"scheme":"HTTP"},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/","port":8080,"scheme":"HTTP"},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-kube-state-metrics","serviceAccount":"r1-kube-state-metrics","nodeName":"edge02","securityContext":{"runAsUser":65534,"runAsGroup":65534,"fsGroup":65534},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-10-11T23:07:01Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-10-11T23:07:01Z","reason":"ContainersNotReady","message":"containers with unready status: [kube-state-metrics]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2022-10-11T23:07:01Z","reason":"ContainersNotReady","message":"containers with unready status: [kube-state-metrics]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-10-11T23:07:01Z"}],"hostIP":"10.0.2.15","startTime":"2022-10-11T23:07:01Z","containerStatuses":[{"name":"kube-state-metrics","state":{"waiting":{"reason":"ContainerCreating"}},"lastState":{},"ready":false,"restartCount":0,"image":"k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.2.4","imageID":"","started":false}],"qosClass":"BestEffort"}}],"serviceStatuses":[{"kind":"Service","apiVersion":"v1","metadata":{"name":"r1-kube-state-metrics","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/component":"metrics","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"kube-state-metrics","app.kubernetes.io/part-of":"kube-state-metrics","app.kubernetes.io/version":"2.2.4","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","helm.sh/chart":"kube-state-metrics-4.1.1","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default"},"annotations":{"prometheus.io/scrape":"true"}},"spec":{"ports":[{"name":"http","protocol":"TCP","port":8080,"targetPort":8080}],"selector":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"kube-state-metrics"},"clusterIP":"10.96.51.129","clusterIPs":["10.96.51.129"],"type":"ClusterIP","sessionAffinity":"None","ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","internalTrafficPolicy":"Cluster"},"status":{"loadBalancer":{}}}],"configMapStatuses":[{"kind":"ConfigMap","apiVersion":"v1","metadata":{"name":"r1-kube-prometheus-stack-k8s-resources-cluster","namespace":"default","creationTimestamp":null,"labels":{"app":"kube-prometheus-stack-grafana","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/part-of":"kube-prometheus-stack","app.kubernetes.io/version":"23.2.0","chart":"kube-prometheus-stack-23.2.0","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","grafana_dashboard":"1","heritage":"Helm","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default","release":"r1"}}}],"deploymentStatuses":[{"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"r1-kube-state-metrics","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/component":"metrics","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"kube-state-metrics","app.kubernetes.io/part-of":"kube-state-metrics","app.kubernetes.io/version":"2.2.4","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","helm.sh/chart":"kube-state-metrics-4.1.1","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"kube-state-metrics"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/component":"metrics","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"kube-state-metrics","app.kubernetes.io/part-of":"kube-state-metrics","app.kubernetes.io/version":"2.2.4","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","helm.sh/chart":"kube-state-metrics-4.1.1"}},"spec":{"containers":[{"name":"kube-state-metrics","image":"k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.2.4","args":["--port=8080","--resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments","--telemetry-port=8081"],"ports":[{"name":"http","containerPort":8080,"protocol":"TCP"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/healthz","port":8080,"scheme":"HTTP"},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/","port":8080,"scheme":"HTTP"},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-kube-state-metrics","serviceAccount":"r1-kube-state-metrics","securityContext":{"runAsUser":65534,"runAsGroup":65534,"fsGroup":65534},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"unavailableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2022-10-11T23:07:01Z","lastTransitionTime":"2022-10-11T23:07:01Z","reason":"NewReplicaSetCreated","message":"Created new replica set \"r1-kube-state-metrics-5f44467b98\""},{"type":"Available","status":"False","lastUpdateTime":"2022-10-11T23:07:01Z","lastTransitionTime":"2022-10-11T23:07:01Z","reason":"MinimumReplicasUnavailable","message":"Deployment does not have minimum availability."}]}},{"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"r1-grafana","namespace":"default","creationTimestamp":null,"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"grafana","app.kubernetes.io/version":"8.3.1","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","helm.sh/chart":"grafana-6.19.0","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default"},"annotations":{"deployment.kubernetes.io/revision":"1"}},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"grafana"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"grafana","emco/deployment-id":"2559393560283377403-kube-prometheus-stack"},"annotations":{"checksum/config":"8471fda5bf3a526f6670f0bb348ef2cba594ea4bc0e1ecd3c4c381392cfe591e","checksum/dashboards-json-config":"01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b","checksum/sc-dashboard-provider-config":"5777f64217852562929c11035caa2dfcdd2471d42351f05b1267f1d0d8ba9ceb","checksum/secret":"548b20681863a586e39572875aa81266164cf38df594bddd837aa56b160af0d8"}},"spec":{"volumes":[{"name":"config","configMap":{"name":"r1-grafana","defaultMode":420}},{"name":"storage","emptyDir":{}},{"name":"sc-dashboard-volume","emptyDir":{}},{"name":"sc-dashboard-provider","configMap":{"name":"r1-grafana-config-dashboards","defaultMode":420}},{"name":"sc-datasources-volume","emptyDir":{}}],"containers":[{"name":"grafana-sc-dashboard","image":"quay.io/kiwigrid/k8s-sidecar:1.14.2","env":[{"name":"METHOD","value":"WATCH"},{"name":"LABEL","value":"grafana_dashboard"},{"name":"FOLDER","value":"/tmp/dashboards"},{"name":"RESOURCE","value":"both"}],"resources":{},"volumeMounts":[{"name":"sc-dashboard-volume","mountPath":"/tmp/dashboards"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"grafana-sc-datasources","image":"quay.io/kiwigrid/k8s-sidecar:1.14.2","env":[{"name":"METHOD","value":"WATCH"},{"name":"LABEL","value":"grafana_datasource"},{"name":"FOLDER","value":"/etc/grafana/provisioning/datasources"},{"name":"RESOURCE","value":"both"},{"name":"REQ_USERNAME","valueFrom":{"secretKeyRef":{"name":"r1-grafana","key":"admin-user"}}},{"name":"REQ_PASSWORD","valueFrom":{"secretKeyRef":{"name":"r1-grafana","key":"admin-password"}}},{"name":"REQ_URL","value":"http://localhost:3000/api/admin/provisioning/datasources/reload"},{"name":"REQ_METHOD","value":"POST"}],"resources":{},"volumeMounts":[{"name":"sc-datasources-volume","mountPath":"/etc/grafana/provisioning/datasources"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"grafana","image":"grafana/grafana:8.3.1","ports":[{"name":"http-web","containerPort":80,"protocol":"TCP"},{"name":"grafana","containerPort":3000,"protocol":"TCP"}],"env":[{"name":"GF_SECURITY_ADMIN_USER","valueFrom":{"secretKeyRef":{"name":"r1-grafana","key":"admin-user"}}},{"name":"GF_SECURITY_ADMIN_PASSWORD","valueFrom":{"secretKeyRef":{"name":"r1-grafana","key":"admin-password"}}},{"name":"GF_PATHS_DATA","value":"/var/lib/grafana/"},{"name":"GF_PATHS_LOGS","value":"/var/log/grafana"},{"name":"GF_PATHS_PLUGINS","value":"/var/lib/grafana/plugins"},{"name":"GF_PATHS_PROVISIONING","value":"/etc/grafana/provisioning"}],"resources":{},"volumeMounts":[{"name":"config","mountPath":"/etc/grafana/grafana.ini","subPath":"grafana.ini"},{"name":"storage","mountPath":"/var/lib/grafana"},{"name":"sc-dashboard-volume","mountPath":"/tmp/dashboards"},{"name":"sc-dashboard-provider","mountPath":"/etc/grafana/provisioning/dashboards/sc-dashboardproviders.yaml","subPath":"provider.yaml"},{"name":"sc-datasources-volume","mountPath":"/etc/grafana/provisioning/datasources"}],"livenessProbe":{"httpGet":{"path":"/api/health","port":3000,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":30,"periodSeconds":10,"successThreshold":1,"failureThreshold":10},"readinessProbe":{"httpGet":{"path":"/api/health","port":3000,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-grafana","serviceAccount":"r1-grafana","automountServiceAccountToken":true,"securityContext":{"runAsUser":472,"runAsGroup":472,"fsGroup":472},"schedulerName":"default-scheduler","enableServiceLinks":true}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"unavailableReplicas":1,"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2022-10-11T23:07:01Z","lastTransitionTime":"2022-10-11T23:07:01Z","reason":"MinimumReplicasUnavailable","message":"Deployment does not have minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2022-10-11T23:07:01Z","lastTransitionTime":"2022-10-11T23:07:01Z","reason":"ReplicaSetUpdated","message":"ReplicaSet \"r1-grafana-dff47c85c\" is progressing."}]}}],"daemonSetStatuses":[{"kind":"DaemonSet","apiVersion":"apps/v1","metadata":{"name":"r1-prometheus-node-exporter","namespace":"default","creationTimestamp":null,"labels":{"app":"prometheus-node-exporter","chart":"prometheus-node-exporter-2.2.2","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","heritage":"Helm","jobLabel":"node-exporter","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default","release":"r1"},"annotations":{"deprecated.daemonset.template.generation":"1"}},"spec":{"selector":{"matchLabels":{"app":"prometheus-node-exporter","release":"r1"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"prometheus-node-exporter","chart":"prometheus-node-exporter-2.2.2","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","heritage":"Helm","jobLabel":"node-exporter","release":"r1"},"annotations":{"cluster-autoscaler.kubernetes.io/safe-to-evict":"true"}},"spec":{"volumes":[{"name":"proc","hostPath":{"path":"/proc","type":""}},{"name":"sys","hostPath":{"path":"/sys","type":""}},{"name":"root","hostPath":{"path":"/","type":""}}],"containers":[{"name":"node-exporter","image":"quay.io/prometheus/node-exporter:v1.2.2","args":["--path.procfs=/host/proc","--path.sysfs=/host/sys","--path.rootfs=/host/root","--web.listen-address=$(HOST_IP):9100","--collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)","--collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$"],"ports":[{"name":"http-metrics","hostPort":9100,"containerPort":9100,"protocol":"TCP"}],"env":[{"name":"HOST_IP","value":"0.0.0.0"}],"resources":{},"volumeMounts":[{"name":"proc","readOnly":true,"mountPath":"/host/proc"},{"name":"sys","readOnly":true,"mountPath":"/host/sys"},{"name":"root","readOnly":true,"mountPath":"/host/root","mountPropagation":"HostToContainer"}],"livenessProbe":{"httpGet":{"path":"/","port":9100,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/","port":9100,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-prometheus-node-exporter","serviceAccount":"r1-prometheus-node-exporter","automountServiceAccountToken":false,"hostNetwork":true,"hostPID":true,"securityContext":{"runAsUser":65534,"runAsGroup":65534,"runAsNonRoot":true,"fsGroup":65534},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"}]}},"updateStrategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":1,"maxSurge":0}},"revisionHistoryLimit":10},"status":{"currentNumberScheduled":1,"numberMisscheduled":0,"desiredNumberScheduled":1,"numberReady":0,"observedGeneration":1,"updatedNumberScheduled":1,"numberUnavailable":1}}],"jobStatuses":[{"kind":"Job","apiVersion":"batch/v1","metadata":{"name":"r1-kube-prometheus-stack-admission-patch","namespace":"default","creationTimestamp":null,"labels":{"app":"kube-prometheus-stack-admission-patch","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/part-of":"kube-prometheus-stack","app.kubernetes.io/version":"23.2.0","chart":"kube-prometheus-stack-23.2.0","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","heritage":"Helm","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default","release":"r1"},"annotations":{"batch.kubernetes.io/job-tracking":"","helm.sh/hook":"post-install,post-upgrade","helm.sh/hook-delete-policy":"before-hook-creation,hook-succeeded"}},"spec":{"parallelism":1,"completions":1,"backoffLimit":6,"selector":{"matchLabels":{"controller-uid":"e1c86213-81ba-4cd1-9940-5221c13fa530"}},"template":{"metadata":{"name":"r1-kube-prometheus-stack-admission-patch","creationTimestamp":null,"labels":{"app":"kube-prometheus-stack-admission-patch","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/part-of":"kube-prometheus-stack","app.kubernetes.io/version":"23.2.0","chart":"kube-prometheus-stack-23.2.0","controller-uid":"e1c86213-81ba-4cd1-9940-5221c13fa530","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","heritage":"Helm","job-name":"r1-kube-prometheus-stack-admission-patch","release":"r1"}},"spec":{"containers":[{"name":"patch","image":"k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.0@sha256:f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068","args":["patch","--webhook-name=r1-kube-prometheus-stack-admission","--namespace=default","--secret-name=r1-kube-prometheus-stack-admission","--patch-failure-policy=Fail"],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"OnFailure","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-kube-prometheus-stack-admission","serviceAccount":"r1-kube-prometheus-stack-admission","securityContext":{"runAsUser":2000,"runAsGroup":2000,"runAsNonRoot":true},"schedulerName":"default-scheduler"}},"completionMode":"NonIndexed","suspend":false},"status":{"startTime":"2022-10-11T23:07:01Z","active":1,"uncountedTerminatedPods":{}}}],"statefulSetStatuses":[{"kind":"StatefulSet","apiVersion":"apps/v1","metadata":{"name":"alertmanager-r1-kube-prometheus-stack-alertmanager","namespace":"default","creationTimestamp":null,"labels":{"app":"kube-prometheus-stack-alertmanager","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/part-of":"kube-prometheus-stack","app.kubernetes.io/version":"23.2.0","chart":"kube-prometheus-stack-23.2.0","emco/deployment-id":"2559393560283377403-kube-prometheus-stack","heritage":"Helm","kustomize.toolkit.fluxcd.io/name":"kust2559393560283377403","kustomize.toolkit.fluxcd.io/namespace":"default","release":"r1"},"annotations":{"prometheus-operator-input-hash":"11467865095657660124"}},"spec":{"replicas":1,"selector":{"matchLabels":{"alertmanager":"r1-kube-prometheus-stack-alertmanager","app.kubernetes.io/instance":"r1-kube-prometheus-stack-alertmanager","app.kubernetes.io/managed-by":"prometheus-operator","app.kubernetes.io/name":"alertmanager"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"alertmanager":"r1-kube-prometheus-stack-alertmanager","app.kubernetes.io/instance":"r1-kube-prometheus-stack-alertmanager","app.kubernetes.io/managed-by":"prometheus-operator","app.kubernetes.io/name":"alertmanager","app.kubernetes.io/version":"0.23.0"},"annotations":{"kubectl.kubernetes.io/default-container":"alertmanager"}},"spec":{"volumes":[{"name":"config-volume","secret":{"secretName":"alertmanager-r1-kube-prometheus-stack-alertmanager-generated","defaultMode":420}},{"name":"tls-assets","secret":{"secretName":"alertmanager-r1-kube-prometheus-stack-alertmanager-tls-assets","defaultMode":420}},{"name":"alertmanager-r1-kube-prometheus-stack-alertmanager-db","emptyDir":{}}],"containers":[{"name":"alertmanager","image":"quay.io/prometheus/alertmanager:v0.23.0","args":["--config.file=/etc/alertmanager/config/alertmanager.yaml","--storage.path=/alertmanager","--data.retention=120h","--cluster.listen-address=","--web.listen-address=:9093","--web.external-url=http://r1-kube-prometheus-stack-alertmanager.default:9093","--web.route-prefix=/","--cluster.peer=alertmanager-r1-kube-prometheus-stack-alertmanager-0.alertmanager-operated:9094","--cluster.reconnect-timeout=5m"],"ports":[{"name":"http-web","containerPort":9093,"protocol":"TCP"},{"name":"mesh-tcp","containerPort":9094,"protocol":"TCP"},{"name":"mesh-udp","containerPort":9094,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"requests":{"memory":"200Mi"}},"volumeMounts":[{"name":"config-volume","mountPath":"/etc/alertmanager/config"},{"name":"tls-assets","readOnly":true,"mountPath":"/etc/alertmanager/certs"},{"name":"alertmanager-r1-kube-prometheus-stack-alertmanager-db","mountPath":"/alertmanager"}],"livenessProbe":{"httpGet":{"path":"/-/healthy","port":"http-web","scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":10,"successThreshold":1,"failureThreshold":10},"readinessProbe":{"httpGet":{"path":"/-/ready","port":"http-web","scheme":"HTTP"},"initialDelaySeconds":3,"timeoutSeconds":3,"periodSeconds":5,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"config-reloader","image":"quay.io/prometheus-operator/prometheus-config-reloader:v0.52.1","command":["/bin/prometheus-config-reloader"],"args":["--listen-address=:8080","--reload-url=http://127.0.0.1:9093/-/reload","--watched-dir=/etc/alertmanager/config"],"ports":[{"name":"reloader-web","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SHARD","value":"-1"}],"resources":{"limits":{"cpu":"100m","memory":"50Mi"},"requests":{"cpu":"100m","memory":"50Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/alertmanager/config"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":120,"dnsPolicy":"ClusterFirst","serviceAccountName":"r1-kube-prometheus-stack-alertmanager","serviceAccount":"r1-kube-prometheus-stack-alertmanager","securityContext":{"runAsUser":1000,"runAsGroup":2000,"runAsNonRoot":true,"fsGroup":2000},"schedulerName":"default-scheduler"}},"serviceName":"alertmanager-operated","podManagementPolicy":"Parallel","updateStrategy":{"type":"RollingUpdate"},"revisionHistoryLimit":10},"status":{"replicas":0,"availableReplicas":0}}],"resourceStatuses":[{"group":"rbac.authorization.k8s.io","version":"v1","kind":"ClusterRoleBinding","name":"r1-kube-prometheus-stack-operator","res":"eyJhcGlWZXJzaW9uIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MSIsImtpbmQiOiJDbHVzdGVyUm9sZUJpbmRpbmciLCJtZXRhZGF0YSI6eyJjcmVhdGlvblRpbWVzdGFtcCI6IjIwMjItMTAtMTFUMjM6MDc6MDBaIiwibGFiZWxzIjp7ImFwcCI6Imt1YmUtcHJvbWV0aGV1cy1zdGFjay1vcGVyYXRvciIsImFwcC5rdWJlcm5ldGVzLmlvL2luc3RhbmNlIjoicjEiLCJhcHAua3ViZXJuZXRlcy5pby9tYW5hZ2VkLWJ5IjoiSGVsbSIsImFwcC5rdWJlcm5ldGVzLmlvL3BhcnQtb2YiOiJrdWJlLXByb21ldGhldXMtc3RhY2siLCJhcHAua3ViZXJuZXRlcy5pby92ZXJzaW9uIjoiMjMuMi4wIiwiY2hhcnQiOiJrdWJlLXByb21ldGhldXMtc3RhY2stMjMuMi4wIiwiZW1jby9kZXBsb3ltZW50LWlkIjoiMjU1OTM5MzU2MDI4MzM3NzQwMy1rdWJlLXByb21ldGhldXMtc3RhY2siLCJoZXJpdGFnZSI6IkhlbG0iLCJrdXN0b21pemUudG9vbGtpdC5mbHV4Y2QuaW8vbmFtZSI6Imt1c3QyNTU5MzkzNTYwMjgzMzc3NDAzIiwia3VzdG9taXplLnRvb2xraXQuZmx1eGNkLmlvL25hbWVzcGFjZSI6ImRlZmF1bHQiLCJyZWxlYXNlIjoicjEifSwibWFuYWdlZEZpZWxkcyI6W10sIm5hbWUiOiJyMS1rdWJlLXByb21ldGhldXMtc3RhY2stb3BlcmF0b3IiLCJyZXNvdXJjZVZlcnNpb24iOiIxMDI4NzA0MCIsInVpZCI6IjkxYzc3ZTc5LTE5NTAtNGNiOS04OTg3LTVkMWJhMzE4ZDllMCJ9LCJyb2xlUmVmIjp7ImFwaUdyb3VwIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pbyIsImtpbmQiOiJDbHVzdGVyUm9sZSIsIm5hbWUiOiJyMS1rdWJlLXByb21ldGhldXMtc3RhY2stb3BlcmF0b3IifSwic3ViamVjdHMiOlt7ImtpbmQiOiJTZXJ2aWNlQWNjb3VudCIsIm5hbWUiOiJyMS1rdWJlLXByb21ldGhldXMtc3RhY2stb3BlcmF0b3IiLCJuYW1lc3BhY2UiOiJkZWZhdWx0In1dfQ=="},{"group":"rbac.authorization.k8s.io","version":"v1","kind":"ClusterRole","name":"r1-kube-prometheus-stack-operator-psp","res":"eyJhcGlWZXJzaW9uIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MSIsImtpbmQiOiJDbHVzdGVyUm9sZSIsIm1ldGFkYXRhIjp7ImNyZWF0aW9uVGltZXN0YW1wIjoiMjAyMi0xMC0xMVQyMzowNzowMFoiLCJsYWJlbHMiOnsiYXBwIjoia3ViZS1wcm9tZXRoZXVzLXN0YWNrLW9wZXJhdG9yIiwiYXBwLmt1YmVybmV0ZXMuaW8vaW5zdGFuY2UiOiJyMSIsImFwcC5rdWJlcm5ldGVzLmlvL21hbmFnZWQtYnkiOiJIZWxtIiwiYXBwLmt1YmVybmV0ZXMuaW8vcGFydC1vZiI6Imt1YmUtcHJvbWV0aGV1cy1zdGFjayIsImFwcC5rdWJlcm5ldGVzLmlvL3ZlcnNpb24iOiIyMy4yLjAiLCJjaGFydCI6Imt1YmUtcHJvbWV0aGV1cy1zdGFjay0yMy4yLjAiLCJlbWNvL2RlcGxveW1lbnQtaWQiOiIyNTU5MzkzNTYwMjgzMzc3NDAzLWt1YmUtcHJvbWV0aGV1cy1zdGFjayIsImhlcml0YWdlIjoiSGVsbSIsImt1c3RvbWl6ZS50b29sa2l0LmZsdXhjZC5pby9uYW1lIjoia3VzdDI1NTkzOTM1NjAyODMzNzc0MDMiLCJrdXN0b21pemUudG9vbGtpdC5mbHV4Y2QuaW8vbmFtZXNwYWNlIjoiZGVmYXVsdCIsInJlbGVhc2UiOiJyMSJ9LCJtYW5hZ2VkRmllbGRzIjpbXSwibmFtZSI6InIxLWt1YmUtcHJvbWV0aGV1cy1zdGFjay1vcGVyYXRvci1wc3AiLCJyZXNvdXJjZVZlcnNpb24iOiIxMDI4NzAzMCIsInVpZCI6ImRkNDNjOTUzLTRjYTgtNGRlMS1iNzUzLWU1ZGY0MDA0MDllZSJ9LCJydWxlcyI6W3siYXBpR3JvdXBzIjpbInBvbGljeSJdLCJyZXNvdXJjZU5hbWVzIjpbInIxLWt1YmUtcHJvbWV0aGV1cy1zdGFjay1vcGVyYXRvciJdLCJyZXNvdXJjZXMiOlsicG9kc2VjdXJpdHlwb2xpY2llcyJdLCJ2ZXJicyI6WyJ1c2UiXX1dfQ=="},{"group":"rbac.authorization.k8s.io","version":"v1","kind":"RoleBinding","name":"r1-grafana-test","namespace":"default","res":"eyJhcGlWZXJzaW9uIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MSIsImtpbmQiOiJSb2xlQmluZGluZyIsIm1ldGFkYXRhIjp7ImNyZWF0aW9uVGltZXN0YW1wIjoiMjAyMi0xMC0xMVQyMzowNzowMFoiLCJsYWJlbHMiOnsiYXBwLmt1YmVybmV0ZXMuaW8vaW5zdGFuY2UiOiJyMSIsImFwcC5rdWJlcm5ldGVzLmlvL21hbmFnZWQtYnkiOiJIZWxtIiwiYXBwLmt1YmVybmV0ZXMuaW8vbmFtZSI6ImdyYWZhbmEiLCJhcHAua3ViZXJuZXRlcy5pby92ZXJzaW9uIjoiOC4zLjEiLCJlbWNvL2RlcGxveW1lbnQtaWQiOiIyNTU5MzkzNTYwMjgzMzc3NDAzLWt1YmUtcHJvbWV0aGV1cy1zdGFjayIsImhlbG0uc2gvY2hhcnQiOiJncmFmYW5hLTYuMTkuMCIsImt1c3RvbWl6ZS50b29sa2l0LmZsdXhjZC5pby9uYW1lIjoia3VzdDI1NTkzOTM1NjAyODMzNzc0MDMiLCJrdXN0b21pemUudG9vbGtpdC5mbHV4Y2QuaW8vbmFtZXNwYWNlIjoiZGVmYXVsdCJ9LCJtYW5hZ2VkRmllbGRzIjpbXSwibmFtZSI6InIxLWdyYWZhbmEtdGVzdCIsIm5hbWVzcGFjZSI6ImRlZmF1bHQiLCJyZXNvdXJjZVZlcnNpb24iOiIxMDI4NzAzNSIsInVpZCI6IjVlNmUxZjc4LTRmM2MtNGNiMy1iMTdmLTc4MDY2OWFjNGM0YiJ9LCJyb2xlUmVmIjp7ImFwaUdyb3VwIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pbyIsImtpbmQiOiJSb2xlIiwibmFtZSI6InIxLWdyYWZhbmEtdGVzdCJ9LCJzdWJqZWN0cyI6W3sia2luZCI6IlNlcnZpY2VBY2NvdW50IiwibmFtZSI6InIxLWdyYWZhbmEtdGVzdCIsIm5hbWVzcGFjZSI6ImRlZmF1bHQifV19"},{"group":"rbac.authorization.k8s.io","version":"v1","kind":"Role","name":"r1-grafana","namespace":"default","res":"eyJhcGlWZXJzaW9uIjoicmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MSIsImtpbmQiOiJSb2xlIiwibWV0YWRhdGEiOnsiY3JlYXRpb25UaW1lc3RhbXAiOiIyMDIyLTEwLTExVDIzOjA3OjAwWiIsImxhYmVscyI6eyJhcHAua3ViZXJuZXRlcy5pby9pbnN0YW5jZSI6InIxIiwiYXBwLmt1YmVybmV0ZXMuaW8vbWFuYWdlZC1ieSI6IkhlbG0iLCJhcHAua3ViZXJuZXRlcy5pby9uYW1lIjoiZ3JhZmFuYSIsImFwcC5rdWJlcm5ldGVzLmlvL3ZlcnNpb24iOiI4LjMuMSIsImVtY28vZGVwbG95bWVudC1pZCI6IjI1NTkzOTM1NjAyODMzNzc0MDMta3ViZS1wcm9tZXRoZXVzLXN0YWNrIiwiaGVsbS5zaC9jaGFydCI6ImdyYWZhbmEtNi4xOS4wIiwia3VzdG9taXplLnRvb2xraXQuZmx1eGNkLmlvL25hbWUiOiJrdXN0MjU1OTM5MzU2MDI4MzM3NzQwMyIsImt1c3RvbWl6ZS50b29sa2l0LmZsdXhjZC5pby9uYW1lc3BhY2UiOiJkZWZhdWx0In0sIm1hbmFnZWRGaWVsZHMiOltdLCJuYW1lIjoicjEtZ3JhZmFuYSIsIm5hbWVzcGFjZSI6ImRlZmF1bHQiLCJyZXNvdXJjZVZlcnNpb24iOiIxMDI4NzAyMyIsInVpZCI6Ijc5YTgzYjk5LWZlOGYtNGUzMy1hMzMwLTAxYWU2NTNjZGJjNiJ9LCJydWxlcyI6W3siYXBpR3JvdXBzIjpbImV4dGVuc2lvbnMiXSwicmVzb3VyY2VOYW1lcyI6WyJyMS1ncmFmYW5hIl0sInJlc291cmNlcyI6WyJwb2RzZWN1cml0eXBvbGljaWVzIl0sInZlcmJzIjpbInVzZSJdfV19"}]}}